#include <stdio.h>
#include <stdlib.h>
#include <unistd.h>
#include <string.h>
#include <unistd.h>

void dummy() {
    read(0, 0, 0);  // 사용하지 않아도 링커는 GOT에 등록함
}

// 컴파일 과정 에러 회피를 위한 직접 구현 
char *gets(char *s) {
    int c;
    char *p = s;
    while ((c = getchar()) != '\n' && c != EOF) {
        *p++ = c;
    }
    *p = '\0';
    return s;
}

void vulnerable() {
    char buffer[64];
    printf("Input: ");
    gets(buffer);  // BOF 발생
}

int main() {
    setvbuf(stdout, NULL, _IONBF, 0);
    vulnerable();
    return 0;
}
